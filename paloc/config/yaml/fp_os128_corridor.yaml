common:
  lid_topic: "/os_cloud_node/points"
  imu_topic: "/stim300/imu/data_raw"

  acc_cov: 1.1501915187049582e-03 # acc noise and bias
  b_acc_cov: 3.729854069064516e-05
  gyr_cov: 5.084312924828687e-05  # gyro noise and bias
  b_gyr_cov: 6.509823412408377e-07

  extrinsic_T: [ -0.036897, 0.00787575, -0.0228079 ]    # from lidar to imu
  extrinsic_R: [ 0.9999765, -0.0023318, -0.0064528,
                 0.0022921,  0.9999785, -0.0061474,
                 0.0064670,  0.0061325,  0.9999603 ]

  odom_link: "camera_init"
  scan_filter_size: 0.1
  map_viewer_size: 0.4
  map_saved_size: 0.1

  useImuFrame: false                        # when we use imu frame, we will get dense color cloud
  useLoopClosure: true                      # if we enable loop clouser                    # 40 for indoors and 60m for outdoors

  saveResultBag: false
  saveResultBodyFrame: true
  saveKeyFrame: false                       # include color point cloud frame and raw distorted point cloud

  # corridor_day
  initial_pose: [ 0.96644286559409200649, -0.25685421425740788204, 0.003751062431636435972, 5.2711577417659201819,
                  0.2557153541051056066, 0.96334248524454570928, 0.081122654191151540328, -1.1168942975664494433,
                  -0.024450250723975192019, -0.077441211946613232512, 0.99669706976879401463, 1.3392035133175538313,
                  0, 0, 0, 1 ]


    #    # canteen_day
    #  initial_pose: [ 0.940271139,  0.336312294,  0.052765001, 14.558010101,
    #                  -0.337770432,  0.940984249,  0.021438926,  6.669913769,
    #                  -0.042440865, -0.037980862,  0.998376787, -0.262503862,
    #                  0,  0,  0,  1 ]

    #    # canteen_day
    #  initial_pose: [ 0.90492481495365660066,-0.42195080614824909239,0.055393407215251317433,-10.873321571289425551,
    #                  0.42297233954913774175,0.90611014221848726539,-0.007658959122394266536,4.6474681144479333037,
    #                  -0.046960795898716322747,0.0303606591152740448,0.99843501986433053327,0.42095196065222749446,
    #                  0,0,0,1 ]
    #  initial_pose: [ 0.940271139, 0.336312294, 0.052765001, 14.558010101,
    #                  -0.337770432, 0.940984249, 0.021438926, 6.669913769, -0.042440865,
    #                  -0.037980862, 0.998376787, -0.262503862, 0, 0, 0, 1 ]

    # garden_night
    #  initial_pose: [ 0.918102400, -0.392025624,0.058341463,-10.900115885,
    #                  0.393541761, 0.919153170,-0.016798258 ,4.575807622,
    #                  -0.047039365 ,0.038382322 , 0.998155133,0.119680436,
    #                0.000000000 ,0.000000000 ,0.000000000 ,1.000000000 ]

    # garden_day
    #  initial_pose: [ 0.92392991826390828621,-0.38182828210102536392, 0.023675701859957654001, -10.666406090136118014,
    #                  0.3799200830223184679,0.92305157679461396519, 0.060301267662141853306, 4.3198569024680215866,
    #                  -0.044878628673443480657,-0.04671928766342014961, 0.99789949016990996094, 0.12595325360521592275,
    #                  0, 0, 0, 1 ]

    #     building day true
    #  initial_pose: [ -0.0546553  ,-0.995811, -0.0733047, -41.8066,
    #                  0.992786  ,-0.062042 ,0.1026 ,  -47.8992,
    #                  -0.106718, -0.0671683  , 0.992018   ,0.414804,
    #                  0 ,0 , 0  , 1 ]
    #
    #  initial_pose: [ 0.97053964862350565034, -0.23979090389125475352, 0.023518827326086402395,6.0882583218301492692,
    #                  0.2380556883162750534,0.96939832421461513361,0.059969871053094620148,1.2457152828126834988,
    #                  -0.037179343402,-0.052604347467,0.997923076153,0.812678933144,
    #                  0,0,0,1 ]



    # canteen_night
    #  initial_pose: [ 0.939520306,0.341171863 ,0.030057066,14.725202706,
    #                  -0.339401487,0.939212053,-0.051835212,6.706329525,
    #                  -0.045914687,0.038498819 ,0.998203148,-0.285757456,
    #                  0.000000000,0.000000000, 0.000000000,1.000000000 ]




    #  MCR
    #  initial_pose: [ -0.096930259, -0.995290204, -0.001421398 ,-2.626715210,
    #                  0.995086319, -0.096881250, -0.020414839,  4.218118217,
    #                  0.020180985, -0.003393238,  0.999790528 , 0.561104740,
    #                  0.000000000,  0.000000000 , 0.000000000 , 1.000000000 ]


    #  initial_pose: [ 1,0,0,0,
    #                  0,1,0,0,
    #                  0,0,1,0,
    #                  0,0,0,1 ]

    #    #  escolator_day
    #  initial_pose: [ 0.849545730,-0.526321899 , 0.035462153,8.465351834,
    #                  0.526326958 , 0.850224213 ,0.009950397 , 5.680197954,
    #                  -0.035387884 , 0.010211390,0.999321354,-14.453351801,
    #                  0.000000000 ,0.000000000,0.000000000, 1.000000000 ]


    # leica01
    #  initial_pose: [ 0.73883321560272481702,-0.67388820334800879109,0.000729507004915464031,-22.145919860265456892,
    #                  0.67387031513160194219,0.73880560121054431188,-0.007987253843996884,166.95771570343236627,
    #                  0.00484356244785797333,0.006392893858528797392,0.99996762779446187525,0.820600366918961123,
    #                  0,0,0,1 ]

    # leica_02   # dynamic 02
    #  initial_pose: [ 0.74282386378586275812,-0.66947983585597922713,-0.003047029520865906277,-22.113451116694212208,
    #                  0.66948432684880476912,0.74282540695496038026,0.000768020002425138901,166.94558061982407556,
    #                0.001749248407354598973,-0.002610419480234981935,0.99999512514674758997,0.793875866101159904,
    #                0,0,0,1 ]


    #    20220219_MCR_normal_01_ref
    #  initial_pose: [ -0.034197986233380032788,-0.99927614790418071225,-0.016665546850371321898,-3.1286035805520017087,
    #                  0.99926045766011680647, -0.034481260815426883827,0.01701738626308704885,2.9765895215817617764,
    #                  -0.017579715699, -0.016071259975,0.999716281891,-0.373287737369,
    #                  0,0, 0,1 ]



    #  20220219_MCR_normal_00_ref  some busgs
    #  initial_pose: [ -0.14951422686852180793,-0.98873649934469028091,-0.006748164702646052969,-3.3340350662921217893,
    #                  0.98718736239339506525,-0.14965777129234767247,0.055354730132704350743,6.0708118958053197308,
    #                  -0.055741168525864547035,0.001614593480911431124,0.99844393602896400974,-0.3650373630748619199,
    #                  0,0,0,1 ]

    #  initial_pose: [ -0.056129394264928821549,-0.99824266873571018496,-0.019002527868588105719,-3.6284031468774843386,
    #                  0.99830518935844498266,-0.056405579737142607861,0.014323880151704629182,4.5467981470468989814,
    #                  -0.015370557085,-0.018166329712,0.999716818333,-0.373281776905,
    #                  0,0,0,1 ]


    #  20220219_MCR_fast_00_ref
    #  initial_pose: [ 0.056296875, -0.998408796 , 0.003207035, -3.809739543,
    #                  0.998391400 , 0.056273575, -0.006877936 , 3.139858925,
    #                  0.006686477 , 0.003589065 , 0.999971271 ,-0.405379550,
    #                  0.000000000 ,0.000000000 , 0.000000000 , 1.000000000 ]

    #    # MCR_slow_01
#  initial_pose: [ -0.103667666, -0.994585733, -0.007250924, -3.583490211,
#                  0.994612027,-0.103664694, -0.000783634 , 3.285474705,
#                  0.000027731, -0.007293073 , 0.999973364, -0.408467496,
#                  0.000000000,  0.000000000,  0.000000000 , 1.000000000 ]
    #  initial_pose: [ -0.10700602171464870212,-0.99422775704721769524,    -0.0078029036818991450509,-3.146451078289421617,
    #                  0.99413613644708572293,-0.10686650631867033195,-0.016519902842021469619,3.9637429210598714955,
    #                  0.015590677969,-0.009524877183,0.999833106995,-0.28624022007,
    #                  0,0,0,1 ]



    # MCR_slow_00
#  initial_pose: [ 0.076328999,-0.997022781 ,-0.010945004 ,-3.413845980,
#                  0.997082425, 0.076330289,  0.000297473 , 3.706331567,
#                  0.000538848 ,-0.010935786 , 0.999940157 ,-0.408766363,
#                  0.000000000 , 0.000000000,  0.000000000 , 1.000000000 ]
    #  initial_pose: [ 0.073423121685455595366,-0.99719976377883316368,-0.014203226717673212819,-3.8523073312988105304,0.99719256862396939241,
    #                  0.073617619309242086538,-0.013692776804172883327,3.751613106250077957,
    #                  0.014700041153,-0.013157985173,0.999805390835,-0.28315025568,
  #                  0,0,0,1 ]

  #MCR_slow
#  initial_pose: [ 0.091375982 ,0.995817066,-0.006855756,-5.357079965,
#                  -0.995934835,0.091492701 ,0.008818712,5.485868708,
#                  0.010135263 ,0.005883287,0.999801271,  0.579084110,
#                  0.000000000,0.000000000 ,0.000000000,  1.00000000 ]
  #  initial_pose: [ -0.0056020604196165634633,-0.99925106193029763167,0.038287900661027018002,-3.1218551280869197771,
  #                  0.99985558705401715644, -0.0062116612580020565699,-0.015821133550722513169,4.5688692239484516282,
  #                  0.016047114506,0.038193736225,0.999141514301,0.464199572802,
  #                  0,0,0,1 ]

  #MCR_normal lio failed
  #  initial_pose: [ 0.99770149806680379659,-0.027549794773985028927,-0.061903629701117682189,-3.0666029803834901442,
  #                  0.032037274716695443248,0.99683903657783876565,0.072708410227449933537,4.1067004461336682263,
  #                  0.059704840604759434691,-0.074524578416078135406,0.99543027600546942542,0.62307403666362742826,
  #                  0,0,0,1 ]
  #   success
#  initial_pose: [ 0.017268123495677515861, -0.99476377592509216863 ,0.10073144488699185579 ,-2.9241390841996816532,
#                  0.99972825177520137434, 0.01560025219016034088 ,-0.017321959286189889882, 4.9911020280692108359,
#                  0.015659822151, 0.101003192365, 0.994762837887, 0.172949373722,
#                  0, 0, 0 ,1 ]

  # MCR_fast
#  initial_pose: [ -0.32832116270547285199,-0.92938734732750357378,-0.16865249089127744237,-2.9655322974445547565,
#                  0.93205860967514645604,-0.34772791815314162412,0.10174401932331889726,4.7093078645710373262,
#                  -0.15320479205394284867,-0.12378938702080135248,0.98041041677698233338,0.4456111914617846814,
#                  0,0,0,1 ]

lio:
  lidar_type: 3                          # 1 for Livox serials LiDAR, 2 for Velodyne LiDAR, 3 for ouster LiDAR,
  scan_line: 128
  scan_rate: 10                         # only need to be set for velodyne, unit: Hz,
  timestamp_unit: 0                     # the unit of time/t field in the PointCloud2 rostopic: 0-second, 1-milisecond, 2-microsecond, 3-nanosecond.
  blind: 0.5                            # remove the nearest point cloud

  fov_degree: 180
  det_range: 150.0

  point_filter_num: 3
  max_iteration: 3
  filter_size_corner: 0.1
  filter_size_surf: 0.1
  filter_size_map: 0.2
  cube_side_length: 1000

pgo:
  SKIP_FRAMES: 5                                    # map visualization, every x frame we add it in the globalmap and publish it
  useRawCloud: false
  showDegenercy: true

  useGlobalPrior: true
  icpO3dType: 2                                    # 0: icp 1:point2plane 2:gicp
  degeneracy_thres: 50
  correspondence_dis: 1.0                          # stair_bob: 0.6;
  map_radius: 50
  map_filter_size: 0.1                             # indoor:0.1, outdoor:0.2

  loopZOffset: 5.0                                # for escaltor
  historyKeyframeSearchRadius: 5.0
  historyKeyframeSearchTimeDiff: 40.0
  historyKeyframeSearchNum: 25
  loopFitnessScoreThreshold: 0.3
  loopClosureFrequency: 1                         # if you want to detect more loop, you can set it larger

  filterDis: 0.5                                  #  did not add loop if the distance of consecutive node less than 10m
  filterNodeNum: 10
